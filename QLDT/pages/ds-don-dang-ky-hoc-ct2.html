<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Danh sách đơn đăng ký học CT2 - Hệ thống quản lý đào tạo</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="../css/course-registration-styles.css" />
    <style>
      /* Thiết lập cơ bản */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }

      body {
        background-color: #f5f7fa;
        color: #333;
        line-height: 1.6;
        padding: 20px;
      }

      /* Tiêu đề trang */
      .page-header {
        margin-bottom: 25px;
        border-bottom: 2px solid #f0f0f0;
        padding-bottom: 15px;
      }

      .page-title {
        font-size: 28px;
        font-weight: 600;
        color: #1e3056;
        margin-bottom: 8px;
        display: flex;
        align-items: center;
      }

      .page-title i {
        margin-right: 12px;
        font-size: 26px;
      }

      .page-subtitle {
        color: #666;
        font-size: 16px;
        margin-top: 5px;
      }

      /* Thẻ thông tin */
      .info-card {
        background-color: white;
        border-radius: 10px;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
        padding: 20px;
        margin-bottom: 20px;
        border: 1px solid #eaeaea;
      }

      .info-card h2 {
        font-size: 18px;
        color: #1e3056;
        margin-bottom: 15px;
        display: flex;
        align-items: center;
      }

      .info-card h2 i {
        margin-right: 10px;
        color: #2196f3;
      }

      /* Thông báo */
      .notification {
        background-color: #e3f2fd;
        border-left: 4px solid #2196f3;
        padding: 15px;
        margin-bottom: 20px;
        border-radius: 4px;
      }

      .notification.warning {
        background-color: #fff8e1;
        border-left-color: #ffc107;
      }

      .notification.success {
        background-color: #e8f5e9;
        border-left-color: #4caf50;
      }

      .notification.error {
        background-color: #ffebee;
        border-left-color: #f44336;
      }

      .notification h3 {
        font-size: 16px;
        margin-bottom: 8px;
        display: flex;
        align-items: center;
      }

      .notification h3 i {
        margin-right: 8px;
      }

      /* Bảng */
      .table-responsive {
        overflow-x: auto;
        margin-bottom: 20px;
      }

      .data-table {
        width: 100%;
        border-collapse: collapse;
      }

      .data-table th,
      .data-table td {
        padding: 12px 15px;
        text-align: left;
        border-bottom: 1px solid #eaeaea;
      }

      .data-table th {
        background-color: #f5f7fa;
        font-weight: 600;
        color: #1e3056;
      }

      .data-table tbody tr:hover {
        background-color: #f9f9f9;
      }

      .data-table .status {
        display: inline-block;
        padding: 5px 10px;
        border-radius: 20px;
        font-size: 14px;
        font-weight: 600;
      }

      .data-table .status.approved {
        background-color: #e8f5e9;
        color: #4caf50;
      }

      .data-table .status.rejected {
        background-color: #ffebee;
        color: #f44336;
      }

      .data-table .status.pending {
        background-color: #fff8e1;
        color: #ff9800;
      }

      .data-table .status.cancelled {
        background-color: #f5f5f5;
        color: #9e9e9e;
      }

      /* Nút và điều khiển */
      .button-group {
        display: flex;
        gap: 10px;
        margin-bottom: 20px;
        flex-wrap: wrap;
      }

      .btn {
        padding: 10px 15px;
        border-radius: 5px;
        border: none;
        cursor: pointer;
        font-weight: 600;
        display: inline-flex;
        align-items: center;
        transition: all 0.3s ease;
      }

      .btn i {
        margin-right: 8px;
      }

      .btn-primary {
        background-color: #2196f3;
        color: white;
      }

      .btn-primary:hover {
        background-color: #1976d2;
      }

      .btn-secondary {
        background-color: #f5f5f5;
        color: #333;
        border: 1px solid #ddd;
      }

      .btn-secondary:hover {
        background-color: #e0e0e0;
      }

      .btn-success {
        background-color: #4caf50;
        color: white;
      }

      .btn-success:hover {
        background-color: #388e3c;
      }

      .btn-warning {
        background-color: #ff9800;
        color: white;
      }

      .btn-warning:hover {
        background-color: #f57c00;
      }

      .btn-danger {
        background-color: #f44336;
        color: white;
      }

      .btn-danger:hover {
        background-color: #d32f2f;
      }

      /* Bộ lọc */
      .filter-section {
        background-color: white;
        border-radius: 10px;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
        padding: 15px;
        margin-bottom: 20px;
        border: 1px solid #eaeaea;
      }

      .filter-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
      }

      .filter-header h3 {
        font-size: 16px;
        color: #1e3056;
        display: flex;
        align-items: center;
      }

      .filter-header h3 i {
        margin-right: 8px;
        color: #2196f3;
      }

      .filter-toggle {
        background: none;
        border: none;
        color: #2196f3;
        cursor: pointer;
        font-size: 16px;
      }

      .filter-body {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
      }

      .filter-group {
        flex: 1;
        min-width: 200px;
      }

      .filter-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: #1e3056;
        font-size: 14px;
      }

      .filter-select {
        width: 100%;
        padding: 8px 12px;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-size: 14px;
        appearance: none;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%231e3056' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 12px center;
        background-size: 12px;
      }

      .filter-actions {
        display: flex;
        gap: 10px;
        margin-top: 15px;
      }

      .filter-btn {
        padding: 8px 15px;
        border-radius: 5px;
        font-weight: 600;
        font-size: 14px;
        display: inline-flex;
        align-items: center;
        cursor: pointer;
      }

      .filter-btn i {
        margin-right: 5px;
      }

      .filter-btn-apply {
        background-color: #2196f3;
        color: white;
        border: none;
      }

      .filter-btn-reset {
        background-color: #f5f5f5;
        color: #333;
        border: 1px solid #ddd;
      }

      /* Chi tiết đơn */
      .application-details {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 1000;
        overflow-y: auto;
      }

      .application-details-content {
        background-color: white;
        margin: 50px auto;
        padding: 20px;
        border-radius: 10px;
        max-width: 800px;
        position: relative;
      }

      .close-btn {
        position: absolute;
        top: 15px;
        right: 15px;
        font-size: 20px;
        color: #666;
        background: none;
        border: none;
        cursor: pointer;
      }

      .application-header {
        margin-bottom: 20px;
        padding-bottom: 15px;
        border-bottom: 1px solid #eaeaea;
      }

      .application-header h2 {
        font-size: 20px;
        color: #1e3056;
        margin-bottom: 5px;
      }

      .application-info {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        margin-bottom: 20px;
      }

      .info-column {
        flex: 1;
        min-width: 250px;
      }

      .info-item {
        margin-bottom: 15px;
      }

      .info-label {
        font-weight: 600;
        color: #666;
        margin-bottom: 5px;
        font-size: 14px;
      }

      .info-value {
        color: #333;
        font-weight: 600;
      }

      .application-timeline {
        margin-bottom: 20px;
      }

      .timeline-header {
        font-size: 16px;
        color: #1e3056;
        margin-bottom: 15px;
        font-weight: 600;
      }

      .timeline-event {
        display: flex;
        margin-bottom: 15px;
        position: relative;
      }

      .timeline-event:not(:last-child)::before {
        content: "";
        position: absolute;
        left: 15px;
        top: 30px;
        bottom: -15px;
        width: 2px;
        background-color: #e0e0e0;
      }

      .timeline-icon {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        background-color: #e3f2fd;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 15px;
        position: relative;
        z-index: 1;
      }

      .timeline-icon i {
        font-size: 14px;
        color: #2196f3;
      }

      .timeline-content {
        flex: 1;
      }

      .timeline-date {
        font-size: 14px;
        color: #666;
        margin-bottom: 5px;
      }

      .timeline-text {
        font-weight: 600;
        color: #333;
      }

      .timeline-note {
        font-size: 14px;
        color: #666;
        font-style: italic;
        margin-top: 5px;
      }

      /* Responsive */
      @media (max-width: 768px) {
        .filter-body {
          flex-direction: column;
        }

        .button-group {
          flex-direction: column;
        }

        .btn {
          width: 100%;
        }

        .application-details-content {
          margin: 20px;
          padding: 15px;
        }
      }

      /* Phân trang */
      .pagination {
        display: flex;
        justify-content: center;
        margin-top: 20px;
        gap: 5px;
      }

      .pagination-item {
        width: 35px;
        height: 35px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 5px;
        border: 1px solid #ddd;
        background-color: white;
        color: #333;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .pagination-item:hover {
        background-color: #f5f5f5;
      }

      .pagination-item.active {
        background-color: #2196f3;
        color: white;
        border-color: #2196f3;
      }

      .pagination-item.disabled {
        color: #ccc;
        cursor: not-allowed;
      }
    </style>
  </head>
  <body>
    <!-- Tiêu đề trang -->
    <div class="page-header">
      <h1 class="page-title">
        <i class="fa fa-list-alt" style="color: #2196f3"></i> Danh sách đơn đăng
        ký học CT2
      </h1>
      <p class="page-subtitle">
        Quản lý và theo dõi tình trạng các đơn đăng ký chương trình 2
      </p>
    </div>

    <!-- Thông tin tổng quan -->
    <div class="info-card">
      <h2><i class="fa fa-chart-pie"></i> Thông tin tổng quan</h2>

      <div
        style="display: flex; flex-wrap: wrap; gap: 20px; margin-bottom: 15px"
      >
        <div
          style="
            flex: 1;
            min-width: 200px;
            background-color: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
          "
        >
          <div
            style="
              font-size: 24px;
              font-weight: 700;
              color: #2196f3;
              margin-bottom: 5px;
            "
          >
            3
          </div>
          <div style="color: #1e3056; font-weight: 600">Tổng số đơn đã nộp</div>
        </div>

        <div
          style="
            flex: 1;
            min-width: 200px;
            background-color: #fff8e1;
            padding: 15px;
            border-radius: 8px;
          "
        >
          <div
            style="
              font-size: 24px;
              font-weight: 700;
              color: #ff9800;
              margin-bottom: 5px;
            "
          >
            1
          </div>
          <div style="color: #1e3056; font-weight: 600">
            Đơn đang chờ xét duyệt
          </div>
        </div>

        <div
          style="
            flex: 1;
            min-width: 200px;
            background-color: #e8f5e9;
            padding: 15px;
            border-radius: 8px;
          "
        >
          <div
            style="
              font-size: 24px;
              font-weight: 700;
              color: #4caf50;
              margin-bottom: 5px;
            "
          >
            1
          </div>
          <div style="color: #1e3056; font-weight: 600">
            Đơn đã được chấp nhận
          </div>
        </div>

        <div
          style="
            flex: 1;
            min-width: 200px;
            background-color: #ffebee;
            padding: 15px;
            border-radius: 8px;
          "
        >
          <div
            style="
              font-size: 24px;
              font-weight: 700;
              color: #f44336;
              margin-bottom: 5px;
            "
          >
            1
          </div>
          <div style="color: #1e3056; font-weight: 600">Đơn đã bị từ chối</div>
        </div>
      </div>
    </div>

    <!-- Bộ lọc -->
    <div class="filter-section">
      <div class="filter-header">
        <h3><i class="fa fa-filter"></i> Bộ lọc đơn đăng ký</h3>
        <button class="filter-toggle" onclick="toggleFilter()">
          <i class="fa fa-chevron-up"></i>
        </button>
      </div>

      <div class="filter-body" id="filter-body">
        <div class="filter-group">
          <label for="filter-program">Chương trình CT2</label>
          <select id="filter-program" class="filter-select">
            <option value="all">Tất cả chương trình</option>
            <option value="QTKD-CT2">Quản trị kinh doanh</option>
            <option value="TCKT-CT2">Tài chính kế toán</option>
            <option value="MARKETING-CT2">Marketing</option>
            <option value="NNA-CT2">Ngôn ngữ Anh</option>
            <option value="KTĐT-CT2">Kỹ thuật điện tử</option>
          </select>
        </div>

        <div class="filter-group">
          <label for="filter-status">Trạng thái</label>
          <select id="filter-status" class="filter-select">
            <option value="all">Tất cả trạng thái</option>
            <option value="pending">Đang chờ xét duyệt</option>
            <option value="approved">Đã chấp nhận</option>
            <option value="rejected">Đã từ chối</option>
            <option value="cancelled">Đã hủy</option>
          </select>
        </div>

        <div class="filter-group">
          <label for="filter-semester">Học kỳ đăng ký</label>
          <select id="filter-semester" class="filter-select">
            <option value="all">Tất cả học kỳ</option>
            <option value="2024-2025-1">Học kỳ 1, năm học 2024-2025</option>
            <option value="2024-2025-2">Học kỳ 2, năm học 2024-2025</option>
            <option value="2023-2024-2">Học kỳ 2, năm học 2023-2024</option>
            <option value="2023-2024-1">Học kỳ 1, năm học 2023-2024</option>
          </select>
        </div>

        <div class="filter-group">
          <label for="filter-date">Thời gian nộp đơn</label>
          <select id="filter-date" class="filter-select">
            <option value="all">Tất cả thời gian</option>
            <option value="last-week">Trong tuần qua</option>
            <option value="last-month">Trong tháng qua</option>
            <option value="last-3-months">Trong 3 tháng qua</option>
            <option value="last-6-months">Trong 6 tháng qua</option>
          </select>
        </div>
      </div>

      <div class="filter-actions">
        <button class="filter-btn filter-btn-apply" onclick="applyFilter()">
          <i class="fa fa-check"></i> Áp dụng
        </button>
        <button class="filter-btn filter-btn-reset" onclick="resetFilter()">
          <i class="fa fa-refresh"></i> Làm mới
        </button>
      </div>
    </div>

    <!-- Danh sách đơn đăng ký -->
    <div class="info-card">
      <h2><i class="fa fa-list"></i> Danh sách đơn đăng ký CT2</h2>

      <div class="table-responsive">
        <table class="data-table">
          <thead>
            <tr>
              <th>Mã đơn</th>
              <th>Chương trình CT2</th>
              <th>Ngày nộp đơn</th>
              <th>Học kỳ đăng ký</th>
              <th>Trạng thái</th>
              <th>Cập nhật cuối</th>
              <th>Thao tác</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>CT2-2024-001</td>
              <td>Quản trị kinh doanh</td>
              <td>15/05/2024</td>
              <td>HK1 2024-2025</td>
              <td><span class="status approved">Đã chấp nhận</span></td>
              <td>20/05/2024</td>
              <td>
                <button
                  class="btn btn-secondary btn-sm"
                  onclick="viewApplication('CT2-2024-001')"
                >
                  <i class="fa fa-eye"></i> Xem
                </button>
              </td>
            </tr>
            <tr>
              <td>CT2-2024-002</td>
              <td>Tài chính kế toán</td>
              <td>18/05/2024</td>
              <td>HK1 2024-2025</td>
              <td><span class="status rejected">Đã từ chối</span></td>
              <td>25/05/2024</td>
              <td>
                <button
                  class="btn btn-secondary btn-sm"
                  onclick="viewApplication('CT2-2024-002')"
                >
                  <i class="fa fa-eye"></i> Xem
                </button>
              </td>
            </tr>
            <tr>
              <td>CT2-2024-003</td>
              <td>Marketing</td>
              <td>01/06/2024</td>
              <td>HK1 2024-2025</td>
              <td><span class="status pending">Đang chờ xét duyệt</span></td>
              <td>01/06/2024</td>
              <td>
                <button
                  class="btn btn-secondary btn-sm"
                  onclick="viewApplication('CT2-2024-003')"
                >
                  <i class="fa fa-eye"></i> Xem
                </button>
                <button
                  class="btn btn-danger btn-sm"
                  onclick="cancelApplication('CT2-2024-003')"
                >
                  <i class="fa fa-times"></i> Hủy
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Phân trang -->
      <div class="pagination">
        <div class="pagination-item disabled">
          <i class="fa fa-angle-left"></i>
        </div>
        <div class="pagination-item active">1</div>
        <div class="pagination-item">2</div>
        <div class="pagination-item">3</div>
        <div class="pagination-item"><i class="fa fa-angle-right"></i></div>
      </div>
    </div>

    <!-- Các nút thao tác -->
    <div class="button-group">
      <button
        class="btn btn-primary"
        onclick="window.location.href='dang-ky-hoc-ct2.html'"
      >
        <i class="fa fa-plus"></i> Tạo đơn đăng ký mới
      </button>
      <button
        class="btn btn-secondary"
        onclick="window.location.href='kiem-tra-tien-do-ct2.html'"
      >
        <i class="fa fa-tasks"></i> Kiểm tra tiến độ CT2
      </button>
      <button class="btn btn-secondary" onclick="exportToExcel()">
        <i class="fa fa-file-excel"></i> Xuất Excel
      </button>
      <button class="btn btn-secondary" onclick="window.print()">
        <i class="fa fa-print"></i> In danh sách
      </button>
    </div>

    <!-- Thông báo -->
    <div class="notification warning">
      <h3><i class="fa fa-exclamation-triangle"></i> Lưu ý quan trọng</h3>
      <p>
        Đơn đăng ký CT2 sau khi được chấp nhận sẽ không thể hủy. Sinh viên cần
        cân nhắc kỹ trước khi đăng ký.
      </p>
      <p>
        Đơn đang ở trạng thái "Đang chờ xét duyệt" có thể hủy mà không bị ảnh
        hưởng.
      </p>
    </div>

    <!-- Chi tiết đơn đăng ký (Modal) -->
    <div id="application-details" class="application-details">
      <div class="application-details-content">
        <button class="close-btn" onclick="closeApplicationDetails()">
          <i class="fa fa-times"></i>
        </button>

        <div class="application-header">
          <h2>Chi tiết đơn đăng ký CT2</h2>
          <p>Mã đơn: <strong id="application-id">CT2-2024-001</strong></p>
        </div>

        <div class="application-info">
          <div class="info-column">
            <div class="info-item">
              <div class="info-label">Chương trình CT2</div>
              <div class="info-value" id="detail-program">
                Quản trị kinh doanh
              </div>
            </div>
            <div class="info-item">
              <div class="info-label">Ngày nộp đơn</div>
              <div class="info-value" id="detail-date">15/05/2024</div>
            </div>
            <div class="info-item">
              <div class="info-label">Học kỳ đăng ký</div>
              <div class="info-value" id="detail-semester">
                Học kỳ 1, năm học 2024-2025
              </div>
            </div>
            <div class="info-item">
              <div class="info-label">Trạng thái</div>
              <div class="info-value" id="detail-status">
                <span class="status approved">Đã chấp nhận</span>
              </div>
            </div>
          </div>

          <div class="info-column">
            <div class="info-item">
              <div class="info-label">Mã sinh viên</div>
              <div class="info-value">SV20200001</div>
            </div>
            <div class="info-item">
              <div class="info-label">Họ và tên</div>
              <div class="info-value">Nguyễn Văn A</div>
            </div>
            <div class="info-item">
              <div class="info-label">Chương trình chính (CT1)</div>
              <div class="info-value">Công nghệ thông tin</div>
            </div>
            <div class="info-item">
              <div class="info-label">Điểm trung bình tích lũy</div>
              <div class="info-value">3.65/4.0</div>
            </div>
          </div>
        </div>

        <div class="info-item" style="margin-bottom: 20px">
          <div class="info-label">Lý do đăng ký</div>
          <div
            class="info-value"
            id="detail-reason"
            style="font-weight: normal; font-style: italic"
          >
            Em muốn đăng ký học thêm chương trình Quản trị kinh doanh để bổ sung
            kiến thức về quản lý và kinh doanh, giúp em có thêm cơ hội việc làm
            sau khi tốt nghiệp. Em mong muốn trong tương lai có thể tự khởi
            nghiệp trong lĩnh vực công nghệ, vì vậy kiến thức về quản trị kinh
            doanh là rất cần thiết.
          </div>
        </div>

        <div class="application-timeline">
          <div class="timeline-header">Lịch sử xử lý đơn</div>

          <div class="timeline-event">
            <div class="timeline-icon">
              <i class="fa fa-paper-plane"></i>
            </div>
            <div class="timeline-content">
              <div class="timeline-date">15/05/2024 - 10:30</div>
              <div class="timeline-text">Đơn đã được nộp</div>
              <div class="timeline-note">
                Đơn đăng ký CT2 đã được gửi thành công
              </div>
            </div>
          </div>

          <div class="timeline-event">
            <div class="timeline-icon">
              <i class="fa fa-eye"></i>
            </div>
            <div class="timeline-content">
              <div class="timeline-date">17/05/2024 - 14:15</div>
              <div class="timeline-text">Đơn đã được tiếp nhận</div>
              <div class="timeline-note">
                Phòng Đào tạo đã tiếp nhận và chuyển đơn đến Khoa Kinh tế
              </div>
            </div>
          </div>

          <div class="timeline-event">
            <div class="timeline-icon">
              <i class="fa fa-check-circle"></i>
            </div>
            <div class="timeline-content">
              <div class="timeline-date">20/05/2024 - 09:45</div>
              <div class="timeline-text">Đơn đã được chấp nhận</div>
              <div class="timeline-note">
                Khoa Kinh tế đã chấp nhận đơn đăng ký CT2 của bạn
              </div>
            </div>
          </div>
        </div>

        <div class="button-group">
          <button class="btn btn-primary" onclick="printApplication()">
            <i class="fa fa-print"></i> In đơn
          </button>
          <button class="btn btn-secondary" onclick="downloadApplication()">
            <i class="fa fa-download"></i> Tải xuống
          </button>
          <button class="btn btn-secondary" onclick="closeApplicationDetails()">
            <i class="fa fa-times"></i> Đóng
          </button>
        </div>
      </div>
    </div>

    <script>
      // Hàm ẩn/hiện bộ lọc
      function toggleFilter() {
        const filterBody = document.getElementById("filter-body");
        const filterToggle = document.querySelector(".filter-toggle i");

        if (filterBody.style.display === "none") {
          filterBody.style.display = "flex";
          filterToggle.className = "fa fa-chevron-up";
        } else {
          filterBody.style.display = "none";
          filterToggle.className = "fa fa-chevron-down";
        }
      }

      // Hàm áp dụng bộ lọc
      function applyFilter() {
        const program = document.getElementById("filter-program").value;
        const status = document.getElementById("filter-status").value;
        const semester = document.getElementById("filter-semester").value;
        const date = document.getElementById("filter-date").value;

        console.log("Áp dụng bộ lọc:", { program, status, semester, date });
        alert("Đã áp dụng bộ lọc");

        // Trong thực tế, đây sẽ là API call để lọc dữ liệu
        // filterApplications(program, status, semester, date);
      }

      // Hàm làm mới bộ lọc
      function resetFilter() {
        document.getElementById("filter-program").value = "all";
        document.getElementById("filter-status").value = "all";
        document.getElementById("filter-semester").value = "all";
        document.getElementById("filter-date").value = "all";

        console.log("Đã làm mới bộ lọc");
        alert("Đã làm mới bộ lọc");

        // Trong thực tế, đây sẽ là API call để lấy lại dữ liệu ban đầu
        // resetFilterAndLoadData();
      }

      // Hàm xem chi tiết đơn đăng ký
      function viewApplication(applicationId) {
        console.log("Xem chi tiết đơn:", applicationId);

        // Trong thực tế, đây sẽ là API call để lấy chi tiết đơn
        // getApplicationDetails(applicationId).then(data => showApplicationDetails(data));

        // Mô phỏng hiển thị chi tiết đơn
        document.getElementById("application-id").textContent = applicationId;

        // Cập nhật thông tin chi tiết dựa trên ID đơn
        if (applicationId === "CT2-2024-001") {
          document.getElementById("detail-program").textContent =
            "Quản trị kinh doanh";
          document.getElementById("detail-date").textContent = "15/05/2024";
          document.getElementById("detail-semester").textContent =
            "Học kỳ 1, năm học 2024-2025";
          document.getElementById("detail-status").innerHTML =
            '<span class="status approved">Đã chấp nhận</span>';
          document.getElementById("detail-reason").textContent =
            "Em muốn đăng ký học thêm chương trình Quản trị kinh doanh để bổ sung kiến thức về quản lý và kinh doanh, giúp em có thêm cơ hội việc làm sau khi tốt nghiệp. Em mong muốn trong tương lai có thể tự khởi nghiệp trong lĩnh vực công nghệ, vì vậy kiến thức về quản trị kinh doanh là rất cần thiết.";
        } else if (applicationId === "CT2-2024-002") {
          document.getElementById("detail-program").textContent =
            "Tài chính kế toán";
          document.getElementById("detail-date").textContent = "18/05/2024";
          document.getElementById("detail-semester").textContent =
            "Học kỳ 1, năm học 2024-2025";
          document.getElementById("detail-status").innerHTML =
            '<span class="status rejected">Đã từ chối</span>';
          document.getElementById("detail-reason").textContent =
            "Em muốn học thêm về tài chính kế toán để có thể hiểu rõ hơn về quản lý tài chính cá nhân và doanh nghiệp. Em tin rằng kiến thức này sẽ giúp ích cho em trong tương lai khi làm việc trong lĩnh vực công nghệ thông tin, đặc biệt là khi phát triển các phần mềm liên quan đến tài chính.";
        } else if (applicationId === "CT2-2024-003") {
          document.getElementById("detail-program").textContent = "Marketing";
          document.getElementById("detail-date").textContent = "01/06/2024";
          document.getElementById("detail-semester").textContent =
            "Học kỳ 1, năm học 2024-2025";
          document.getElementById("detail-status").innerHTML =
            '<span class="status pending">Đang chờ xét duyệt</span>';
          document.getElementById("detail-reason").textContent =
            "Em mong muốn được học thêm về Marketing để có thể áp dụng vào việc quảng bá sản phẩm phần mềm trong tương lai. Kiến thức về marketing sẽ giúp em hiểu rõ hơn về nhu cầu của khách hàng, từ đó phát triển sản phẩm phù hợp và có chiến lược tiếp thị hiệu quả.";
        }

        // Hiển thị modal
        document.getElementById("application-details").style.display = "block";
      }

      // Hàm đóng chi tiết đơn
      function closeApplicationDetails() {
        document.getElementById("application-details").style.display = "none";
      }

      // Hàm hủy đơn đăng ký
      function cancelApplication(applicationId) {
        if (
          confirm(
            `Bạn có chắc chắn muốn hủy đơn đăng ký ${applicationId} không?`
          )
        ) {
          console.log("Hủy đơn đăng ký:", applicationId);

          // Trong thực tế, đây sẽ là API call để hủy đơn
          // cancelApplicationRequest(applicationId).then(response => handleCancelResponse(response));

          // Mô phỏng hủy đơn
          alert(`Đơn đăng ký ${applicationId} đã được hủy thành công!`);

          // Cập nhật UI (trong thực tế sẽ làm mới dữ liệu từ server)
          const row = document.querySelector(
            `tr:has(td:contains('${applicationId}'))`
          );
          if (row) {
            const statusCell = row.querySelector("td:nth-child(5)");
            statusCell.innerHTML =
              '<span class="status cancelled">Đã hủy</span>';

            const actionCell = row.querySelector("td:last-child");
            actionCell.innerHTML =
              '<button class="btn btn-secondary btn-sm" onclick="viewApplication(\'' +
              applicationId +
              '\')"><i class="fa fa-eye"></i> Xem</button>';
          }
        }
      }

      // Hàm in đơn đăng ký
      function printApplication() {
        console.log("In đơn đăng ký");
        window.print();
      }

      // Hàm tải xuống đơn đăng ký
      function downloadApplication() {
        console.log("Tải xuống đơn đăng ký");
        alert("Đang tải xuống đơn đăng ký...");

        // Trong thực tế, đây sẽ là API call để tải xuống đơn
        // downloadApplicationPDF(applicationId);
      }

      // Hàm xuất danh sách ra Excel
      function exportToExcel() {
        console.log("Xuất danh sách ra Excel");
        alert("Đang xuất danh sách ra Excel...");

        // Trong thực tế, đây sẽ là API call để xuất Excel
        // exportApplicationListToExcel();
      }

      // Khởi tạo trang
      document.addEventListener("DOMContentLoaded", function () {
        // Đóng modal khi click bên ngoài
        window.onclick = function (event) {
          const modal = document.getElementById("application-details");
          if (event.target == modal) {
            modal.style.display = "none";
          }
        };
      });
    </script>
  </body>
</html>
