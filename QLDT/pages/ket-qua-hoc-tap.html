<!-- Tiêu đề trang -->
<h1 class="page-title">
  <i class="fa fa-bar-chart" style="color: #4caf50"></i> Kết quả học tập
</h1>

<!-- Thống kê kết quả học tập -->
<div class="results-stats">
  <div class="stat-item">
    <div class="stat-value">3.65</div>
    <div class="stat-label">Điểm trung bình tích lũy</div>
  </div>
  <div class="stat-item">
    <div class="stat-value">110/140</div>
    <div class="stat-label">Tín chỉ đã tích lũy</div>
  </div>
  <div class="stat-item">
    <div class="stat-value">Giỏi</div>
    <div class="stat-label">Xếp loại</div>
  </div>
  <div class="stat-item">
    <div class="stat-value">85/100</div>
    <div class="stat-label">Điểm rèn luyện</div>
  </div>
</div>

<!-- Bộ lọc và điều khiển -->
<div class="results-controls">
  <div class="control-group">
    <label for="semester-select">Học kỳ:</label>
    <select id="semester-select" onchange="loadResults()">
      <option value="all">Tất cả các học kỳ</option>
      <option value="2023-2024-1">Học kỳ 1, năm học 2023-2024</option>
      <option value="2022-2023-2">Học kỳ 2, năm học 2022-2023</option>
      <option value="2022-2023-1">Học kỳ 1, năm học 2022-2023</option>
      <option value="2021-2022-2">Học kỳ 2, năm học 2021-2022</option>
      <option value="2021-2022-1">Học kỳ 1, năm học 2021-2022</option>
      <option value="2020-2021-2">Học kỳ 2, năm học 2020-2021</option>
      <option value="2020-2021-1">Học kỳ 1, năm học 2020-2021</option>
    </select>
  </div>

  <div class="control-group">
    <label for="course-type">Loại học phần:</label>
    <select id="course-type" onchange="loadResults()">
      <option value="all">Tất cả</option>
      <option value="required">Bắt buộc</option>
      <option value="elective">Tự chọn</option>
      <option value="general">Đại cương</option>
      <option value="specialized">Chuyên ngành</option>
    </select>
  </div>

  <div class="action-controls">
    <button class="action-btn" onclick="printResults()">
      <i class="fa fa-print"></i> In
    </button>
    <button class="action-btn" onclick="exportResults()">
      <i class="fa fa-download"></i> Xuất file
    </button>
  </div>
</div>

<!-- Biểu đồ kết quả học tập -->
<div class="results-chart">
  <h2 class="section-title">Biểu đồ điểm trung bình các học kỳ</h2>
  <div class="chart-container">
    <div class="chart-placeholder">
      <!-- Trong thực tế, đây sẽ là biểu đồ được vẽ bằng thư viện như Chart.js -->
      <div class="chart-bars">
        <div class="chart-bar" style="height: 70%">
          <div class="bar-value">3.2</div>
          <div class="bar-label">HK1<br />2020-2021</div>
        </div>
        <div class="chart-bar" style="height: 75%">
          <div class="bar-value">3.4</div>
          <div class="bar-label">HK2<br />2020-2021</div>
        </div>
        <div class="chart-bar" style="height: 80%">
          <div class="bar-value">3.6</div>
          <div class="bar-label">HK1<br />2021-2022</div>
        </div>
        <div class="chart-bar" style="height: 85%">
          <div class="bar-value">3.8</div>
          <div class="bar-label">HK2<br />2021-2022</div>
        </div>
        <div class="chart-bar" style="height: 82%">
          <div class="bar-value">3.7</div>
          <div class="bar-label">HK1<br />2022-2023</div>
        </div>
        <div class="chart-bar" style="height: 88%">
          <div class="bar-value">3.9</div>
          <div class="bar-label">HK2<br />2022-2023</div>
        </div>
        <div class="chart-bar" style="height: 84%">
          <div class="bar-value">3.8</div>
          <div class="bar-label">HK1<br />2023-2024</div>
        </div>
      </div>
      <div class="chart-axis">
        <div class="y-axis">
          <div class="axis-label">4.0</div>
          <div class="axis-label">3.0</div>
          <div class="axis-label">2.0</div>
          <div class="axis-label">1.0</div>
          <div class="axis-label">0.0</div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Bảng kết quả học tập -->
<div class="results-table-container">
  <h2 class="section-title">Bảng điểm chi tiết</h2>
  <table class="results-table">
    <thead>
      <tr>
        <th rowspan="2">STT</th>
        <th rowspan="2">Mã học phần</th>
        <th rowspan="2">Tên học phần</th>
        <th rowspan="2">Số TC</th>
        <th rowspan="2">Học kỳ</th>
        <th colspan="6">Điểm thành phần</th>
        <th rowspan="2">Điểm chữ</th>
        <th rowspan="2">Điểm số</th>
        <th rowspan="2">Kết quả</th>
      </tr>
      <tr>
        <th>CC</th>
        <th>BT</th>
        <th>TH</th>
        <th>KT</th>
        <th>THI</th>
        <th>TKHP</th>
      </tr>
    </thead>
    <tbody>
      <!-- Học kỳ 1, năm học 2023-2024 -->
      <tr class="semester-header">
        <td colspan="14">Học kỳ 1, năm học 2023-2024</td>
      </tr>
      <tr>
        <td>1</td>
        <td>CNPM01</td>
        <td>Công nghệ phần mềm</td>
        <td>3</td>
        <td>2023-2024-1</td>
        <td>10</td>
        <td>9</td>
        <td>8</td>
        <td>8.5</td>
        <td>8</td>
        <td>8.4</td>
        <td>A</td>
        <td>4.0</td>
        <td class="result-passed">Đạt</td>
      </tr>
      <tr>
        <td>2</td>
        <td>KTMT01</td>
        <td>Kiến trúc máy tính</td>
        <td>3</td>
        <td>2023-2024-1</td>
        <td>10</td>
        <td>8</td>
        <td>8</td>
        <td>7.5</td>
        <td>7</td>
        <td>7.6</td>
        <td>B+</td>
        <td>3.5</td>
        <td class="result-passed">Đạt</td>
      </tr>
      <tr>
        <td>3</td>
        <td>HDH01</td>
        <td>Hệ điều hành</td>
        <td>4</td>
        <td>2023-2024-1</td>
        <td>10</td>
        <td>9</td>
        <td>9</td>
        <td>8</td>
        <td>8</td>
        <td>8.4</td>
        <td>A</td>
        <td>4.0</td>
        <td class="result-passed">Đạt</td>
      </tr>
      <tr>
        <td>4</td>
        <td>NMCNTT01</td>
        <td>Nhập môn CNTT</td>
        <td>2</td>
        <td>2023-2024-1</td>
        <td>10</td>
        <td>8</td>
        <td>-</td>
        <td>7</td>
        <td>8</td>
        <td>8.0</td>
        <td>B+</td>
        <td>3.5</td>
        <td class="result-passed">Đạt</td>
      </tr>
      <tr>
        <td>5</td>
        <td>CTDL01</td>
        <td>Cấu trúc dữ liệu và giải thuật</td>
        <td>4</td>
        <td>2023-2024-1</td>
        <td>10</td>
        <td>9</td>
        <td>8</td>
        <td>8</td>
        <td>8</td>
        <td>8.3</td>
        <td>A</td>
        <td>4.0</td>
        <td class="result-passed">Đạt</td>
      </tr>

      <!-- Học kỳ 2, năm học 2022-2023 -->
      <tr class="semester-header">
        <td colspan="14">Học kỳ 2, năm học 2022-2023</td>
      </tr>
      <tr>
        <td>6</td>
        <td>CSDL01</td>
        <td>Cơ sở dữ liệu</td>
        <td>4</td>
        <td>2022-2023-2</td>
        <td>10</td>
        <td>9</td>
        <td>9</td>
        <td>9</td>
        <td>9</td>
        <td>9.1</td>
        <td>A+</td>
        <td>4.0</td>
        <td class="result-passed">Đạt</td>
      </tr>
      <tr>
        <td>7</td>
        <td>LTW01</td>
        <td>Lập trình Web</td>
        <td>3</td>
        <td>2022-2023-2</td>
        <td>10</td>
        <td>8</td>
        <td>9</td>
        <td>8</td>
        <td>8</td>
        <td>8.3</td>
        <td>A</td>
        <td>4.0</td>
        <td class="result-passed">Đạt</td>
      </tr>
      <tr>
        <td>8</td>
        <td>MMT01</td>
        <td>Mạng máy tính</td>
        <td>3</td>
        <td>2022-2023-2</td>
        <td>10</td>
        <td>7</td>
        <td>8</td>
        <td>7</td>
        <td>7</td>
        <td>7.4</td>
        <td>B</td>
        <td>3.0</td>
        <td class="result-passed">Đạt</td>
      </tr>
      <tr>
        <td>9</td>
        <td>PTTKHT01</td>
        <td>Phân tích và thiết kế hệ thống</td>
        <td>4</td>
        <td>2022-2023-2</td>
        <td>10</td>
        <td>9</td>
        <td>9</td>
        <td>8</td>
        <td>9</td>
        <td>8.9</td>
        <td>A</td>
        <td>4.0</td>
        <td class="result-passed">Đạt</td>
      </tr>
      <tr>
        <td>10</td>
        <td>JAVA01</td>
        <td>Lập trình Java</td>
        <td>3</td>
        <td>2022-2023-2</td>
        <td>10</td>
        <td>9</td>
        <td>9</td>
        <td>9</td>
        <td>9</td>
        <td>9.1</td>
        <td>A+</td>
        <td>4.0</td>
        <td class="result-passed">Đạt</td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Thống kê điểm theo loại -->
<div class="grade-distribution">
  <h2 class="section-title">Phân bố điểm</h2>
  <div class="distribution-chart">
    <div class="distribution-item">
      <div class="distribution-bar" style="width: 40%">
        <span class="distribution-value">40%</span>
      </div>
      <div class="distribution-label">A/A+</div>
    </div>
    <div class="distribution-item">
      <div class="distribution-bar" style="width: 30%">
        <span class="distribution-value">30%</span>
      </div>
      <div class="distribution-label">B+</div>
    </div>
    <div class="distribution-item">
      <div class="distribution-bar" style="width: 20%">
        <span class="distribution-value">20%</span>
      </div>
      <div class="distribution-label">B</div>
    </div>
    <div class="distribution-item">
      <div class="distribution-bar" style="width: 10%">
        <span class="distribution-value">10%</span>
      </div>
      <div class="distribution-label">C+</div>
    </div>
    <div class="distribution-item">
      <div class="distribution-bar" style="width: 0%">
        <span class="distribution-value">0%</span>
      </div>
      <div class="distribution-label">C</div>
    </div>
    <div class="distribution-item">
      <div class="distribution-bar" style="width: 0%">
        <span class="distribution-value">0%</span>
      </div>
      <div class="distribution-label">D+</div>
    </div>
    <div class="distribution-item">
      <div class="distribution-bar" style="width: 0%">
        <span class="distribution-value">0%</span>
      </div>
      <div class="distribution-label">D</div>
    </div>
    <div class="distribution-item">
      <div class="distribution-bar" style="width: 0%">
        <span class="distribution-value">0%</span>
      </div>
      <div class="distribution-label">F</div>
    </div>
  </div>
</div>

<!-- Tiến độ hoàn thành chương trình học -->
<div class="program-progress">
  <h2 class="section-title">Tiến độ hoàn thành chương trình học</h2>

  <div class="progress-overview">
    <div class="progress-bar">
      <div class="progress-fill" style="width: 78.6%">78.6%</div>
    </div>
    <div class="progress-stats">
      <div class="progress-stat">
        <div class="stat-value">110/140</div>
        <div class="stat-label">Tín chỉ đã tích lũy/Tổng số tín chỉ</div>
      </div>
      <div class="progress-stat">
        <div class="stat-value">30</div>
        <div class="stat-label">Tín chỉ còn lại</div>
      </div>
      <div class="progress-stat">
        <div class="stat-value">24</div>
        <div class="stat-label">Tín chỉ đang học</div>
      </div>
    </div>
  </div>

  <div class="progress-details">
    <div class="progress-category">
      <div class="category-header">
        <div class="category-name">Khối kiến thức đại cương</div>
        <div class="category-progress">
          <div class="progress-bar">
            <div class="progress-fill" style="width: 100%">100%</div>
          </div>
          <div class="progress-value">35/35 tín chỉ</div>
        </div>
      </div>
    </div>

    <div class="progress-category">
      <div class="category-header">
        <div class="category-name">Khối kiến thức cơ sở ngành</div>
        <div class="category-progress">
          <div class="progress-bar">
            <div class="progress-fill" style="width: 90%">90%</div>
          </div>
          <div class="progress-value">45/50 tín chỉ</div>
        </div>
      </div>
    </div>

    <div class="progress-category">
      <div class="category-header">
        <div class="category-name">Khối kiến thức chuyên ngành</div>
        <div class="category-progress">
          <div class="progress-bar">
            <div class="progress-fill" style="width: 60%">60%</div>
          </div>
          <div class="progress-value">30/50 tín chỉ</div>
        </div>
      </div>
    </div>

    <div class="progress-category">
      <div class="category-header">
        <div class="category-name">Khóa luận tốt nghiệp</div>
        <div class="category-progress">
          <div class="progress-bar">
            <div class="progress-fill" style="width: 0%">0%</div>
          </div>
          <div class="progress-value">0/5 tín chỉ</div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  // Hàm tải kết quả học tập
  function loadResults() {
    const selectedSemester = document.getElementById("semester-select").value;
    const selectedType = document.getElementById("course-type").value;
    console.log(
      "Đang tải kết quả học tập cho học kỳ: " +
        selectedSemester +
        ", loại học phần: " +
        selectedType
    );

    // Trong thực tế, đây sẽ là API call để lấy dữ liệu kết quả học tập
    // fetchResultsData(selectedSemester, selectedType);
  }

  // Hàm in kết quả học tập
  function printResults() {
    console.log("In kết quả học tập");
    window.print();
  }

  // Hàm xuất file kết quả học tập
  function exportResults() {
    console.log("Xuất file kết quả học tập");

    // Trong thực tế, đây sẽ là API call để xuất file
    alert("Đang xuất file kết quả học tập...");
  }

  // Hàm vẽ biểu đồ (trong thực tế sẽ sử dụng thư viện như Chart.js)
  function drawCharts() {
    console.log("Vẽ biểu đồ kết quả học tập");

    // Trong thực tế, đây sẽ là code để vẽ biểu đồ
    // Ví dụ: sử dụng Chart.js
    // const ctx = document.getElementById('results-chart').getContext('2d');
    // new Chart(ctx, { ... });
  }

  // Gọi hàm vẽ biểu đồ khi trang được tải
  document.addEventListener("DOMContentLoaded", function () {
    drawCharts();
  });
</script>
