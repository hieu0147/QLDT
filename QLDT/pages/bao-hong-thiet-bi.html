<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Báo Hỏng Thiết Bị - Hệ Thống Quản Lý Trường Học</title>
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        --primary: #1976d2;
        --primary-light: #e3f2fd;
        --primary-dark: #0d47a1;
        --secondary: #ff7043;
        --success: #4caf50;
        --warning: #ff9800;
        --danger: #f44336;
        --light: #f5f5f5;
        --dark: #212121;
        --gray: #757575;
        --white: #ffffff;
        --shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        --radius: 8px;
        --transition: all 0.3s ease;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Roboto", sans-serif;
        background-color: #f8f9fa;
        color: var(--dark);
        line-height: 1.6;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }

      header {
        background-color: var(--primary);
        color: var(--white);
        padding: 15px 0;
        box-shadow: var(--shadow);
        margin-bottom: 30px;
      }

      .header-content {
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .logo {
        display: flex;
        align-items: center;
        gap: 10px;
        font-size: 1.5rem;
        font-weight: bold;
      }

      .logo i {
        color: var(--secondary);
      }

      .user-info {
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .user-avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background-color: var(--primary-dark);
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
      }

      .page-title {
        margin-bottom: 20px;
        font-size: 2rem;
        color: var(--dark);
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .page-title i {
        color: var(--secondary);
      }

      .card {
        background: var(--white);
        border-radius: var(--radius);
        box-shadow: var(--shadow);
        padding: 25px;
        margin-bottom: 30px;
        transition: var(--transition);
      }

      .card:hover {
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
      }

      .service-intro {
        margin-bottom: 30px;
        line-height: 1.8;
        background-color: var(--primary-light);
        padding: 20px;
        border-radius: var(--radius);
        border-left: 4px solid var(--primary);
      }

      .section-title {
        font-size: 1.5rem;
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 2px solid var(--primary-light);
        color: var(--primary-dark);
      }

      .form-group {
        margin-bottom: 20px;
      }

      label {
        display: block;
        margin-bottom: 8px;
        font-weight: 500;
      }

      .required {
        color: var(--danger);
      }

      input,
      select,
      textarea {
        width: 100%;
        padding: 12px 15px;
        border: 1px solid #ddd;
        border-radius: var(--radius);
        font-size: 1rem;
        transition: var(--transition);
      }

      input:focus,
      select:focus,
      textarea:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 3px rgba(25, 118, 210, 0.2);
      }

      textarea {
        resize: vertical;
        min-height: 120px;
      }

      small {
        display: block;
        margin-top: 5px;
        color: var(--gray);
      }

      .form-row {
        display: flex;
        gap: 20px;
        margin-bottom: 0;
      }

      .form-row .form-group {
        flex: 1;
      }

      .form-actions {
        display: flex;
        justify-content: flex-end;
        gap: 15px;
        margin-top: 30px;
      }

      button {
        padding: 12px 24px;
        border: none;
        border-radius: var(--radius);
        font-size: 1rem;
        font-weight: 500;
        cursor: pointer;
        transition: var(--transition);
      }

      .cancel-btn {
        background-color: #e0e0e0;
        color: var(--dark);
      }

      .cancel-btn:hover {
        background-color: #d5d5d5;
      }

      .submit-btn {
        background-color: var(--primary);
        color: var(--white);
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .submit-btn:hover {
        background-color: var(--primary-dark);
      }

      .file-input-wrapper {
        position: relative;
        overflow: hidden;
        display: inline-block;
        width: 100%;
      }

      .file-input-wrapper input[type="file"] {
        position: absolute;
        left: 0;
        top: 0;
        opacity: 0;
        cursor: pointer;
        width: 100%;
        height: 100%;
      }

      .file-input-trigger {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        padding: 12px 15px;
        background-color: #f5f5f5;
        border: 1px dashed #bdbdbd;
        border-radius: var(--radius);
        font-weight: 500;
        color: var(--gray);
        cursor: pointer;
        transition: var(--transition);
      }

      .file-input-trigger:hover {
        background-color: #eeeeee;
        border-color: var(--primary);
        color: var(--primary);
      }

      .report-table-container {
        overflow-x: auto;
      }

      .report-table {
        width: 100%;
        border-collapse: collapse;
      }

      .report-table th,
      .report-table td {
        padding: 15px;
        text-align: left;
        border-bottom: 1px solid #e0e0e0;
      }

      .report-table th {
        background-color: var(--primary-light);
        color: var(--primary-dark);
        font-weight: 500;
      }

      .report-table tr:hover {
        background-color: #f5f5f5;
      }

      .status-processing {
        background-color: #fff8e1;
        color: #ff8f00;
        padding: 5px 10px;
        border-radius: 20px;
        font-size: 0.85rem;
        font-weight: 500;
      }

      .status-completed {
        background-color: #e8f5e9;
        color: #2e7d32;
        padding: 5px 10px;
        border-radius: 20px;
        font-size: 0.85rem;
        font-weight: 500;
      }

      .action-btn {
        background: none;
        border: none;
        color: var(--primary);
        font-size: 1.1rem;
        cursor: pointer;
        padding: 5px;
      }

      .action-btn:hover {
        color: var(--primary-dark);
      }

      .pagination {
        display: flex;
        justify-content: center;
        gap: 5px;
        margin-top: 20px;
      }

      .pagination a {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 40px;
        height: 40px;
        background-color: var(--white);
        border-radius: var(--radius);
        color: var(--dark);
        text-decoration: none;
        transition: var(--transition);
      }

      .pagination a:hover {
        background-color: var(--primary-light);
        color: var(--primary);
      }

      .pagination a.active {
        background-color: var(--primary);
        color: var(--white);
      }

      .tabs {
        display: flex;
        margin-bottom: 20px;
      }

      .tab {
        padding: 12px 20px;
        cursor: pointer;
        border-bottom: 3px solid transparent;
        font-weight: 500;
        transition: var(--transition);
      }

      .tab.active {
        border-color: var(--primary);
        color: var(--primary);
      }

      .tab:hover:not(.active) {
        border-color: #e0e0e0;
      }

      .tab-content {
        display: none;
      }

      .tab-content.active {
        display: block;
      }

      .icon-info {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .icon-info i {
        color: var(--primary);
      }

      .empty-state {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 50px 0;
        text-align: center;
      }

      .empty-state i {
        font-size: 3rem;
        color: #bdbdbd;
        margin-bottom: 20px;
      }

      .empty-state p {
        color: var(--gray);
      }

      /* Responsive */
      @media (max-width: 768px) {
        .form-row {
          flex-direction: column;
          gap: 0;
        }

        .header-content {
          flex-direction: column;
          text-align: center;
          gap: 15px;
        }

        .logo {
          justify-content: center;
        }

        .tabs {
          overflow-x: auto;
          white-space: nowrap;
        }
      }

      /* Custom radio buttons for priority */
      .priority-options {
        display: flex;
        gap: 15px;
      }

      .priority-option {
        flex: 1;
        position: relative;
      }

      .priority-option input {
        position: absolute;
        opacity: 0;
        cursor: pointer;
      }

      .priority-label {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
        padding: 15px;
        border: 2px solid #e0e0e0;
        border-radius: var(--radius);
        cursor: pointer;
        transition: var(--transition);
      }

      .priority-label i {
        font-size: 1.5rem;
        margin-bottom: 10px;
      }

      .priority-option:nth-child(1) .priority-label i {
        color: var(--success);
      }

      .priority-option:nth-child(2) .priority-label i {
        color: var(--warning);
      }

      .priority-option:nth-child(3) .priority-label i {
        color: var(--danger);
      }

      .priority-option input:checked + .priority-label {
        border-color: var(--primary);
        background-color: var(--primary-light);
      }
    </style>
  </head>
  <body>
    <header>
      <div class="container">
        <div class="header-content">
          <div class="logo">
            <i class="fas fa-university"></i>
            <span>Hệ Thống Quản Lý Trường Học</span>
          </div>
          <div class="user-info">
            <span>Xin chào, Sinh viên</span>
            <div class="user-avatar">SV</div>
          </div>
        </div>
      </div>
    </header>

    <div class="container">
      <h1 class="page-title"><i class="fas fa-tools"></i> Báo hỏng thiết bị</h1>

      <div class="service-intro">
        <p>
          Dịch vụ báo hỏng thiết bị giúp sinh viên thông báo nhanh chóng các sự
          cố về cơ sở vật chất, trang thiết bị trong khuôn viên trường. Thông
          tin báo hỏng sẽ được chuyển đến bộ phận kỹ thuật để xử lý kịp thời.
        </p>
      </div>

      <div class="tabs">
        <div class="tab active" data-tab="new-report">Báo hỏng mới</div>
        <div class="tab" data-tab="history">Lịch sử báo hỏng</div>
      </div>

      <div class="tab-content active" id="new-report">
        <div class="card">
          <h2 class="section-title">Thông tin báo hỏng</h2>

          <div class="form-row">
            <div class="form-group">
              <label for="report-location"
                >Vị trí thiết bị: <span class="required">*</span></label
              >
              <select id="report-location" required>
                <option value="">-- Chọn vị trí --</option>
                <option value="phong-hoc">Phòng học</option>
                <option value="phong-lab">Phòng thực hành/Lab</option>
                <option value="thu-vien">Thư viện</option>
                <option value="ktx">Ký túc xá</option>
                <option value="cantin">Căn tin</option>
                <option value="hanh-lang">Hành lang/Khu vực chung</option>
                <option value="khac">Khác</option>
              </select>
            </div>

            <div class="form-group">
              <label for="report-room"
                >Phòng/Khu vực cụ thể: <span class="required">*</span></label
              >
              <input
                type="text"
                id="report-room"
                placeholder="Ví dụ: A305, Lab CNTT1, Thư viện tầng 2..."
                required
              />
            </div>
          </div>

          <div class="form-group">
            <label for="report-type"
              >Loại thiết bị: <span class="required">*</span></label
            >
            <select id="report-type" required>
              <option value="">-- Chọn loại thiết bị --</option>
              <option value="may-tinh">Máy tính</option>
              <option value="may-chieu">Máy chiếu</option>
              <option value="dieu-hoa">Điều hòa</option>
              <option value="quat">Quạt</option>
              <option value="den">Đèn/Hệ thống chiếu sáng</option>
              <option value="ban-ghe">Bàn ghế</option>
              <option value="cua">Cửa/Khóa cửa</option>
              <option value="nuoc">Hệ thống nước</option>
              <option value="mang">Mạng/Wifi</option>
              <option value="khac">Thiết bị khác</option>
            </select>
          </div>

          <div class="form-group">
            <label for="report-description"
              >Mô tả sự cố: <span class="required">*</span></label
            >
            <textarea
              id="report-description"
              rows="5"
              placeholder="Mô tả chi tiết về tình trạng hỏng hóc của thiết bị..."
              required
            ></textarea>
          </div>

          <div class="form-group">
            <label>Mức độ ưu tiên:</label>
            <div class="priority-options">
              <div class="priority-option">
                <input
                  type="radio"
                  name="priority"
                  id="priority-normal"
                  value="normal"
                  checked
                />
                <label for="priority-normal" class="priority-label">
                  <i class="fas fa-check-circle"></i>
                  <span>Bình thường</span>
                </label>
              </div>
              <div class="priority-option">
                <input
                  type="radio"
                  name="priority"
                  id="priority-urgent"
                  value="urgent"
                />
                <label for="priority-urgent" class="priority-label">
                  <i class="fas fa-exclamation-circle"></i>
                  <span>Khẩn cấp</span>
                </label>
              </div>
              <div class="priority-option">
                <input
                  type="radio"
                  name="priority"
                  id="priority-very-urgent"
                  value="very-urgent"
                />
                <label for="priority-very-urgent" class="priority-label">
                  <i class="fas fa-exclamation-triangle"></i>
                  <span>Rất khẩn cấp</span>
                </label>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="report-images">Hình ảnh đính kèm:</label>
            <div class="file-input-wrapper">
              <div class="file-input-trigger">
                <i class="fas fa-cloud-upload-alt"></i>
                <span>Chọn hoặc kéo thả tệp vào đây</span>
              </div>
              <input type="file" id="report-images" multiple accept="image/*" />
            </div>
            <small
              >Có thể tải lên tối đa 3 ảnh (định dạng JPG, PNG, tối đa
              5MB/ảnh)</small
            >
          </div>

          <div class="form-group">
            <label for="report-contact">Thông tin liên hệ:</label>
            <input
              type="text"
              id="report-contact"
              placeholder="Số điện thoại hoặc email để liên hệ khi cần"
            />
          </div>

          <div class="form-actions">
            <button type="button" class="cancel-btn">Hủy</button>
            <button type="button" class="submit-btn" onclick="submitReport()">
              <i class="fas fa-paper-plane"></i> Gửi báo cáo
            </button>
          </div>
        </div>
      </div>

      <div class="tab-content" id="history">
        <div class="card">
          <h2 class="section-title">Lịch sử báo hỏng</h2>

          <div class="report-table-container">
            <table class="report-table">
              <thead>
                <tr>
                  <th>STT</th>
                  <th>Ngày báo cáo</th>
                  <th>Vị trí</th>
                  <th>Loại thiết bị</th>
                  <th>Trạng thái</th>
                  <th>Thao tác</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>1</td>
                  <td>15/05/2024</td>
                  <td>Phòng A305</td>
                  <td>Máy chiếu</td>
                  <td><span class="status-processing">Đang xử lý</span></td>
                  <td>
                    <button
                      class="action-btn view-btn"
                      title="Xem chi tiết"
                      onclick="viewReport(1)"
                    >
                      <i class="fas fa-eye"></i>
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>2</td>
                  <td>10/05/2024</td>
                  <td>Lab CNTT1</td>
                  <td>Máy tính</td>
                  <td><span class="status-completed">Đã xử lý</span></td>
                  <td>
                    <button
                      class="action-btn view-btn"
                      title="Xem chi tiết"
                      onclick="viewReport(2)"
                    >
                      <i class="fas fa-eye"></i>
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>3</td>
                  <td>05/05/2024</td>
                  <td>Thư viện tầng 2</td>
                  <td>Điều hòa</td>
                  <td><span class="status-completed">Đã xử lý</span></td>
                  <td>
                    <button
                      class="action-btn view-btn"
                      title="Xem chi tiết"
                      onclick="viewReport(3)"
                    >
                      <i class="fas fa-eye"></i>
                    </button>
                  </td>
                </tr>
                <tr>
                  <td>4</td>
                  <td>01/05/2024</td>
                  <td>KTX B, phòng 205</td>
                  <td>Hệ thống nước</td>
                  <td><span class="status-completed">Đã xử lý</span></td>
                  <td>
                    <button
                      class="action-btn view-btn"
                      title="Xem chi tiết"
                      onclick="viewReport(4)"
                    >
                      <i class="fas fa-eye"></i>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="pagination">
            <a href="#" title="Trang đầu"
              ><i class="fas fa-angle-double-left"></i
            ></a>
            <a href="#" title="Trang trước"
              ><i class="fas fa-angle-left"></i
            ></a>
            <a href="#" class="active">1</a>
            <a href="#">2</a>
            <a href="#" title="Trang sau"><i class="fas fa-angle-right"></i></a>
            <a href="#" title="Trang cuối"
              ><i class="fas fa-angle-double-right"></i
            ></a>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Tab switching
      const tabs = document.querySelectorAll(".tab");
      const tabContents = document.querySelectorAll(".tab-content");

      tabs.forEach((tab) => {
        tab.addEventListener("click", () => {
          const tabId = tab.getAttribute("data-tab");

          // Remove active class from all tabs and contents
          tabs.forEach((t) => t.classList.remove("active"));
          tabContents.forEach((c) => c.classList.remove("active"));

          // Add active class to current tab and content
          tab.classList.add("active");
          document.getElementById(tabId).classList.add("active");
        });
      });

      // File input visual enhancement
      const fileInput = document.getElementById("report-images");
      const fileInputTrigger = document.querySelector(".file-input-trigger");

      fileInput.addEventListener("change", function () {
        if (this.files.length > 0) {
          let fileNames = "";
          for (let i = 0; i < this.files.length; i++) {
            fileNames +=
              this.files[i].name + (i < this.files.length - 1 ? ", " : "");
          }
          fileInputTrigger.innerHTML = `<i class="fas fa-file-image"></i> ${this.files.length} tệp đã chọn`;
        } else {
          fileInputTrigger.innerHTML = `<i class="fas fa-cloud-upload-alt"></i> Chọn hoặc kéo thả tệp vào đây`;
        }
      });

      function submitReport() {
        // Kiểm tra các trường bắt buộc
        const location = document.getElementById("report-location").value;
        const room = document.getElementById("report-room").value;
        const type = document.getElementById("report-type").value;
        const description = document.getElementById("report-description").value;

        if (!location || !room || !type || !description) {
          alert("Vui lòng điền đầy đủ các thông tin bắt buộc!");
          return;
        }

        // Trong thực tế, đây sẽ là API call để gửi báo cáo
        alert(
          "Báo cáo hỏng thiết bị đã được gửi thành công! Bộ phận kỹ thuật sẽ xử lý trong thời gian sớm nhất."
        );

        // Reset form
        document.getElementById("report-location").value = "";
        document.getElementById("report-room").value = "";
        document.getElementById("report-type").value = "";
        document.getElementById("report-description").value = "";
        document.querySelector(
          'input[name="priority"][value="normal"]'
        ).checked = true;
        document.getElementById("report-images").value = "";
        document.getElementById("report-contact").value = "";
        fileInputTrigger.innerHTML = `<i class="fas fa-cloud-upload-alt"></i> Chọn hoặc kéo thả tệp vào đây`;
      }

      function viewReport(id) {
        // Trong thực tế, đây sẽ là API call để lấy chi tiết báo cáo
        alert(`Đang tải thông tin chi tiết cho báo cáo #${id}`);
      }
    </script>
  </body>
</html>
