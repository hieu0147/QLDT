<!-- Tiêu đề trang -->
<h1 class="page-title">
  <i class="fa fa-calculator" style="color: #2196f3"></i> Trung bình chung học
  kỳ
</h1>

<!-- Thống kê tổng quan -->
<div class="gpa-stats">
  <div class="stat-card">
    <div class="stat-icon">
      <i class="fa fa-graduation-cap"></i>
    </div>
    <div class="stat-info">
      <div class="stat-value">3.65</div>
      <div class="stat-label">GPA tích lũy</div>
    </div>
  </div>
  <div class="stat-card">
    <div class="stat-icon">
      <i class="fa fa-book"></i>
    </div>
    <div class="stat-info">
      <div class="stat-value">3.82</div>
      <div class="stat-label">GPA học kỳ hiện tại</div>
    </div>
  </div>
  <div class="stat-card">
    <div class="stat-icon">
      <i class="fa fa-check-circle"></i>
    </div>
    <div class="stat-info">
      <div class="stat-value">96</div>
      <div class="stat-label">Tín chỉ tích lũy</div>
    </div>
  </div>
  <div class="stat-card">
    <div class="stat-icon">
      <i class="fa fa-trophy"></i>
    </div>
    <div class="stat-info">
      <div class="stat-value">Giỏi</div>
      <div class="stat-label">Xếp loại</div>
    </div>
  </div>
</div>

<!-- Bộ lọc học kỳ -->
<div class="filter-section">
  <h2 class="section-title">Chọn học kỳ</h2>
  <div class="semester-filter">
    <div class="filter-group">
      <label for="semester-select">Học kỳ:</label>
      <select
        id="semester-select"
        class="filter-select"
        onchange="changeSemester()"
      >
        <option value="20232" selected>Học kỳ 2, năm học 2023-2024</option>
        <option value="20231">Học kỳ 1, năm học 2023-2024</option>
        <option value="20222">Học kỳ 2, năm học 2022-2023</option>
        <option value="20221">Học kỳ 1, năm học 2022-2023</option>
        <option value="20212">Học kỳ 2, năm học 2021-2022</option>
        <option value="20211">Học kỳ 1, năm học 2021-2022</option>
      </select>
    </div>
    <button class="filter-button" onclick="loadSemesterData()">
      <i class="fa fa-refresh"></i> Cập nhật
    </button>
  </div>
</div>

<!-- Bảng điểm học kỳ -->
<div class="semester-grades">
  <h2 class="section-title">Bảng điểm học kỳ 2, năm học 2023-2024</h2>

  <div class="table-container">
    <table class="data-table">
      <thead>
        <tr>
          <th width="5%">STT</th>
          <th width="10%">Mã học phần</th>
          <th width="25%">Tên học phần</th>
          <th width="8%">Số TC</th>
          <th width="10%">Điểm chữ</th>
          <th width="10%">Điểm số</th>
          <th width="10%">Điểm hệ 4</th>
          <th width="12%">Điểm x TC</th>
          <th width="10%">Kết quả</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>1</td>
          <td>CNPM101</td>
          <td>Công nghệ phần mềm nâng cao</td>
          <td>3</td>
          <td class="grade-good">B+</td>
          <td>8.2</td>
          <td>3.5</td>
          <td>10.5</td>
          <td><span class="status-passed">Đạt</span></td>
        </tr>
        <tr>
          <td>2</td>
          <td>TTNT201</td>
          <td>Trí tuệ nhân tạo</td>
          <td>3</td>
          <td class="grade-good">B+</td>
          <td>8.1</td>
          <td>3.5</td>
          <td>10.5</td>
          <td><span class="status-passed">Đạt</span></td>
        </tr>
        <tr>
          <td>3</td>
          <td>HTTT301</td>
          <td>Hệ thống thông tin doanh nghiệp</td>
          <td>3</td>
          <td class="grade-excellent">A</td>
          <td>8.7</td>
          <td>4.0</td>
          <td>12.0</td>
          <td><span class="status-passed">Đạt</span></td>
        </tr>
        <tr>
          <td>4</td>
          <td>MMT202</td>
          <td>Mạng máy tính nâng cao</td>
          <td>3</td>
          <td class="grade-good">B</td>
          <td>7.7</td>
          <td>3.0</td>
          <td>9.0</td>
          <td><span class="status-passed">Đạt</span></td>
        </tr>
        <tr>
          <td>5</td>
          <td>ATTT301</td>
          <td>An toàn thông tin nâng cao</td>
          <td>3</td>
          <td class="grade-average">C+</td>
          <td>7.0</td>
          <td>2.5</td>
          <td>7.5</td>
          <td><span class="status-passed">Đạt</span></td>
        </tr>
        <tr>
          <td>6</td>
          <td>KTPM301</td>
          <td>Kiểm thử phần mềm nâng cao</td>
          <td>3</td>
          <td class="grade-excellent">A+</td>
          <td>9.2</td>
          <td>4.0</td>
          <td>12.0</td>
          <td><span class="status-passed">Đạt</span></td>
        </tr>
        <tr>
          <td>7</td>
          <td>QLDA401</td>
          <td>Quản lý dự án phần mềm</td>
          <td>3</td>
          <td class="grade-good">B+</td>
          <td>8.0</td>
          <td>3.5</td>
          <td>10.5</td>
          <td><span class="status-passed">Đạt</span></td>
        </tr>
        <tr>
          <td>8</td>
          <td>PTUD301</td>
          <td>Phát triển ứng dụng di động</td>
          <td>3</td>
          <td class="grade-excellent">A</td>
          <td>8.8</td>
          <td>4.0</td>
          <td>12.0</td>
          <td><span class="status-passed">Đạt</span></td>
        </tr>
        <tr class="summary-row">
          <td colspan="3" class="text-right"><strong>Tổng cộng:</strong></td>
          <td><strong>24</strong></td>
          <td colspan="3" class="text-right">
            <strong>Điểm trung bình học kỳ:</strong>
          </td>
          <td colspan="2"><strong>3.82</strong></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- Biểu đồ tiến trình học tập -->
<div class="progress-chart-section">
  <h2 class="section-title">Tiến trình học tập qua các học kỳ</h2>

  <div class="chart-container">
    <div class="chart-tabs">
      <button class="chart-tab active" data-chart="gpa">GPA</button>
      <button class="chart-tab" data-chart="credits">Tín chỉ</button>
    </div>

    <div class="chart-display">
      <div class="chart-placeholder">
        <div class="chart-lines">
          <svg width="100%" height="300" class="line-chart">
            <line
              x1="50"
              y1="250"
              x2="950"
              y2="250"
              stroke="#ccc"
              stroke-width="1"
            />
            <line
              x1="50"
              y1="50"
              x2="50"
              y2="250"
              stroke="#ccc"
              stroke-width="1"
            />

            <!-- Trục Y -->
            <text x="30" y="250" text-anchor="end" alignment-baseline="middle">
              0.0
            </text>
            <text x="30" y="210" text-anchor="end" alignment-baseline="middle">
              1.0
            </text>
            <text x="30" y="170" text-anchor="end" alignment-baseline="middle">
              2.0
            </text>
            <text x="30" y="130" text-anchor="end" alignment-baseline="middle">
              3.0
            </text>
            <text x="30" y="90" text-anchor="end" alignment-baseline="middle">
              4.0
            </text>

            <!-- Trục X -->
            <text x="100" y="270" text-anchor="middle">HK1 21-22</text>
            <text x="250" y="270" text-anchor="middle">HK2 21-22</text>
            <text x="400" y="270" text-anchor="middle">HK1 22-23</text>
            <text x="550" y="270" text-anchor="middle">HK2 22-23</text>
            <text x="700" y="270" text-anchor="middle">HK1 23-24</text>
            <text x="850" y="270" text-anchor="middle">HK2 23-24</text>

            <!-- Đường GPA -->
            <polyline
              points="100,170 250,150 400,130 550,110 700,100 850,90"
              fill="none"
              stroke="#1e3056"
              stroke-width="3"
            />

            <!-- Điểm dữ liệu -->
            <circle cx="100" cy="170" r="5" fill="#1e3056" />
            <circle cx="250" cy="150" r="5" fill="#1e3056" />
            <circle cx="400" cy="130" r="5" fill="#1e3056" />
            <circle cx="550" cy="110" r="5" fill="#1e3056" />
            <circle cx="700" cy="100" r="5" fill="#1e3056" />
            <circle cx="850" cy="90" r="5" fill="#1e3056" />

            <!-- Giá trị GPA -->
            <text
              x="100"
              y="155"
              text-anchor="middle"
              fill="#1e3056"
              font-weight="bold"
            >
              2.0
            </text>
            <text
              x="250"
              y="135"
              text-anchor="middle"
              fill="#1e3056"
              font-weight="bold"
            >
              2.5
            </text>
            <text
              x="400"
              y="115"
              text-anchor="middle"
              fill="#1e3056"
              font-weight="bold"
            >
              3.0
            </text>
            <text
              x="550"
              y="95"
              text-anchor="middle"
              fill="#1e3056"
              font-weight="bold"
            >
              3.5
            </text>
            <text
              x="700"
              y="85"
              text-anchor="middle"
              fill="#1e3056"
              font-weight="bold"
            >
              3.7
            </text>
            <text
              x="850"
              y="75"
              text-anchor="middle"
              fill="#1e3056"
              font-weight="bold"
            >
              3.82
            </text>
          </svg>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Phân tích điểm số -->
<div class="grade-analysis-section">
  <h2 class="section-title">Phân tích điểm số</h2>

  <div class="analysis-container">
    <div class="analysis-cards">
      <div class="analysis-card">
        <div class="analysis-header">
          <i class="fa fa-line-chart"></i>
          <h3>Xu hướng điểm số</h3>
        </div>
        <div class="analysis-content">
          <p>
            Điểm trung bình của bạn đang có xu hướng
            <span class="trend-up">tăng</span> qua các học kỳ.
          </p>
          <p>Tăng <strong>0.12</strong> so với học kỳ trước.</p>
        </div>
      </div>

      <div class="analysis-card">
        <div class="analysis-header">
          <i class="fa fa-pie-chart"></i>
          <h3>Phân bố điểm</h3>
        </div>
        <div class="analysis-content">
          <div class="grade-distribution">
            <div class="grade-bar">
              <span class="grade-label">A+/A</span>
              <div class="bar-container">
                <div class="bar" style="width: 37.5%"></div>
                <span class="bar-value">37.5%</span>
              </div>
            </div>
            <div class="grade-bar">
              <span class="grade-label">B+/B</span>
              <div class="bar-container">
                <div class="bar" style="width: 50%"></div>
                <span class="bar-value">50%</span>
              </div>
            </div>
            <div class="grade-bar">
              <span class="grade-label">C+/C</span>
              <div class="bar-container">
                <div class="bar" style="width: 12.5%"></div>
                <span class="bar-value">12.5%</span>
              </div>
            </div>
            <div class="grade-bar">
              <span class="grade-label">D+/D</span>
              <div class="bar-container">
                <div class="bar" style="width: 0%"></div>
                <span class="bar-value">0%</span>
              </div>
            </div>
            <div class="grade-bar">
              <span class="grade-label">F</span>
              <div class="bar-container">
                <div class="bar" style="width: 0%"></div>
                <span class="bar-value">0%</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="analysis-card">
        <div class="analysis-header">
          <i class="fa fa-star"></i>
          <h3>Môn học nổi bật</h3>
        </div>
        <div class="analysis-content">
          <div class="highlight-courses">
            <div class="highlight-course best">
              <div class="highlight-label">Điểm cao nhất</div>
              <div class="highlight-value">9.2</div>
              <div class="highlight-name">Kiểm thử phần mềm nâng cao</div>
            </div>
            <div class="highlight-course worst">
              <div class="highlight-label">Điểm thấp nhất</div>
              <div class="highlight-value">7.0</div>
              <div class="highlight-name">An toàn thông tin nâng cao</div>
            </div>
          </div>
        </div>
      </div>

      <div class="analysis-card">
        <div class="analysis-header">
          <i class="fa fa-graduation-cap"></i>
          <h3>Dự báo tốt nghiệp</h3>
        </div>
        <div class="analysis-content">
          <div class="forecast">
            <div class="forecast-item">
              <div class="forecast-label">Dự kiến GPA tốt nghiệp:</div>
              <div class="forecast-value">3.7 - 3.8</div>
            </div>
            <div class="forecast-item">
              <div class="forecast-label">Xếp loại dự kiến:</div>
              <div class="forecast-value excellent">Giỏi</div>
            </div>
            <div class="forecast-item">
              <div class="forecast-label">Tín chỉ còn lại:</div>
              <div class="forecast-value">24/120</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Thông tin về cách tính điểm -->
<div class="info-section">
  <h2 class="section-title">Thông tin về cách tính điểm</h2>

  <div class="info-container">
    <div class="info-tabs">
      <button class="info-tab active" data-tab="grading-scale">
        Thang điểm
      </button>
      <button class="info-tab" data-tab="gpa-calculation">Cách tính GPA</button>
      <button class="info-tab" data-tab="academic-standing">
        Xếp loại học lực
      </button>
    </div>

    <div class="info-content">
      <div class="info-tab-content active" id="grading-scale">
        <h3>Thang điểm đánh giá</h3>
        <div class="table-container">
          <table class="info-table">
            <thead>
              <tr>
                <th>Điểm số</th>
                <th>Điểm chữ</th>
                <th>Điểm hệ 4</th>
                <th>Xếp loại</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>8.5 - 10.0</td>
                <td>A/A+</td>
                <td>4.0</td>
                <td>Xuất sắc</td>
              </tr>
              <tr>
                <td>7.8 - 8.4</td>
                <td>B+</td>
                <td>3.5</td>
                <td>Giỏi</td>
              </tr>
              <tr>
                <td>7.0 - 7.7</td>
                <td>B</td>
                <td>3.0</td>
                <td>Khá</td>
              </tr>
              <tr>
                <td>6.3 - 6.9</td>
                <td>C+</td>
                <td>2.5</td>
                <td>Trung bình khá</td>
              </tr>
              <tr>
                <td>5.5 - 6.2</td>
                <td>C</td>
                <td>2.0</td>
                <td>Trung bình</td>
              </tr>
              <tr>
                <td>4.8 - 5.4</td>
                <td>D+</td>
                <td>1.5</td>
                <td>Trung bình yếu</td>
              </tr>
              <tr>
                <td>4.0 - 4.7</td>
                <td>D</td>
                <td>1.0</td>
                <td>Yếu</td>
              </tr>
              <tr>
                <td>0.0 - 3.9</td>
                <td>F</td>
                <td>0.0</td>
                <td>Kém</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="info-tab-content" id="gpa-calculation" style="display: none">
        <h3>Cách tính điểm trung bình (GPA)</h3>
        <div class="calculation-info">
          <p>Điểm trung bình học kỳ (GPA) được tính theo công thức:</p>
          <div class="formula">
            GPA = (Tổng số điểm hệ 4 × Số tín chỉ) / Tổng số tín chỉ
          </div>
          <p>Ví dụ:</p>
          <ul>
            <li>Môn A: 3 tín chỉ, điểm hệ 4 là 4.0 → 3 × 4.0 = 12.0</li>
            <li>Môn B: 2 tín chỉ, điểm hệ 4 là 3.5 → 2 × 3.5 = 7.0</li>
            <li>Môn C: 4 tín chỉ, điểm hệ 4 là 3.0 → 4 × 3.0 = 12.0</li>
            <li>GPA = (12.0 + 7.0 + 12.0) / (3 + 2 + 4) = 31.0 / 9 = 3.44</li>
          </ul>
          <p>
            Điểm trung bình tích lũy là điểm trung bình của tất cả các học phần
            đã học từ đầu khóa học.
          </p>
        </div>
      </div>

      <div
        class="info-tab-content"
        id="academic-standing"
        style="display: none"
      >
        <h3>Xếp loại học lực</h3>
        <div class="table-container">
          <table class="info-table">
            <thead>
              <tr>
                <th>Điểm trung bình</th>
                <th>Xếp loại</th>
                <th>Ghi chú</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>3.60 - 4.00</td>
                <td>Xuất sắc</td>
                <td>Không có học phần dưới 2.0</td>
              </tr>
              <tr>
                <td>3.20 - 3.59</td>
                <td>Giỏi</td>
                <td>Không có học phần dưới 2.0</td>
              </tr>
              <tr>
                <td>2.50 - 3.19</td>
                <td>Khá</td>
                <td>Không có học phần dưới 1.0</td>
              </tr>
              <tr>
                <td>2.00 - 2.49</td>
                <td>Trung bình</td>
                <td>Không có học phần dưới 1.0</td>
              </tr>
              <tr>
                <td>1.00 - 1.99</td>
                <td>Yếu</td>
                <td>Cảnh báo học vụ</td>
              </tr>
              <tr>
                <td>0.00 - 0.99</td>
                <td>Kém</td>
                <td>Cảnh báo học vụ</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  /* Định dạng cho trang trung bình chung học kỳ */

  /* Thống kê tổng quan */
  .gpa-stats {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    margin-bottom: 30px;
  }

  .stat-card {
    background-color: white;
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
    flex: 1;
    min-width: 200px;
  }

  .stat-icon {
    background-color: #f5f5f5;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 15px;
    font-size: 24px;
  }

  .stat-card:nth-child(1) .stat-icon {
    color: #2196f3;
  }

  .stat-card:nth-child(2) .stat-icon {
    color: #4caf50;
  }

  .stat-card:nth-child(3) .stat-icon {
    color: #ff9800;
  }

  .stat-card:nth-child(4) .stat-icon {
    color: #f44336;
  }

  .stat-value {
    font-size: 24px;
    font-weight: bold;
    margin-bottom: 5px;
  }

  .stat-label {
    color: #666;
    font-size: 14px;
  }

  /* Bộ lọc học kỳ */
  .filter-section {
    background-color: white;
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 30px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  }

  .semester-filter {
    display: flex;
    align-items: flex-end;
    gap: 20px;
    margin-top: 15px;
  }

  .filter-group {
    display: flex;
    flex-direction: column;
    flex: 1;
  }

  .filter-group label {
    margin-bottom: 5px;
    font-weight: bold;
    color: #555;
  }

  .filter-select {
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 14px;
  }

  .filter-button {
    background-color: #1e3056;
    color: white;
    border: none;
    border-radius: 4px;
    padding: 10px 20px;
    cursor: pointer;
  }

  .filter-button:hover {
    background-color: #2a4070;
  }

  /* Bảng điểm học kỳ */
  .semester-grades {
    background-color: white;
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 30px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  }

  .table-container {
    overflow-x: auto;
    margin-top: 20px;
  }

  .data-table {
    width: 100%;
    border-collapse: collapse;
    background-color: white;
    border-radius: 8px;
    overflow: hidden;
  }

  .data-table th {
    background-color: #1e3056;
    color: white;
    padding: 12px 15px;
    text-align: left;
  }

  .data-table td {
    padding: 12px 15px;
    border-bottom: 1px solid #eee;
  }

  .data-table tbody tr:hover {
    background-color: #f9f9f9;
  }

  .text-right {
    text-align: right;
  }

  .summary-row {
    background-color: #f5f5f5;
    font-weight: bold;
  }

  .grade-excellent {
    color: #4caf50;
    font-weight: bold;
  }

  .grade-good {
    color: #2196f3;
    font-weight: bold;
  }

  .grade-average {
    color: #ff9800;
    font-weight: bold;
  }

  .grade-poor {
    color: #f44336;
    font-weight: bold;
  }

  .status-passed {
    background-color: #e8f5e9;
    color: #4caf50;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
    font-weight: bold;
  }

  .status-failed {
    background-color: #ffebee;
    color: #f44336;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
    font-weight: bold;
  }

  /* Biểu đồ tiến trình */
  .progress-chart-section {
    background-color: white;
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 30px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  }

  .chart-tabs {
    display: flex;
    margin-bottom: 20px;
    border-bottom: 1px solid #eee;
  }

  .chart-tab {
    padding: 10px 20px;
    background: none;
    border: none;
    cursor: pointer;
    font-weight: bold;
    color: #666;
  }

  .chart-tab.active {
    color: #1e3056;
    border-bottom: 3px solid #1e3056;
  }

  .chart-display {
    height: 300px;
    position: relative;
  }

  .chart-placeholder {
    height: 100%;
    display: flex;
    position: relative;
  }

  .line-chart {
    background-color: #f9f9f9;
    border-radius: 4px;
  }

  /* Phân tích điểm số */
  .grade-analysis-section {
    background-color: white;
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 30px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  }

  .analysis-cards {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
    margin-top: 20px;
  }

  .analysis-card {
    background-color: #f9f9f9;
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }

  .analysis-header {
    display: flex;
    align-items: center;
    margin-bottom: 15px;
    color: #1e3056;
  }

  .analysis-header i {
    font-size: 20px;
    margin-right: 10px;
  }

  .analysis-header h3 {
    margin: 0;
    font-size: 16px;
  }

  .trend-up {
    color: #4caf50;
    font-weight: bold;
  }

  .trend-down {
    color: #f44336;
    font-weight: bold;
  }

  .grade-distribution {
    margin-top: 10px;
  }

  .grade-bar {
    display: flex;
    align-items: center;
    margin-bottom: 10px;
  }

  .grade-label {
    width: 50px;
    font-size: 13px;
    color: #555;
  }

  .bar-container {
    flex: 1;
    height: 20px;
    background-color: #eee;
    border-radius: 10px;
    overflow: hidden;
    position: relative;
    margin-left: 10px;
  }

  .bar {
    height: 100%;
    background-color: #1e3056;
    border-radius: 10px;
  }

  .bar-value {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 12px;
    color: white;
    font-weight: bold;
  }

  .highlight-courses {
    display: flex;
    gap: 15px;
    margin-top: 10px;
  }

  .highlight-course {
    flex: 1;
    padding: 10px;
    border-radius: 4px;
    text-align: center;
  }

  .highlight-course.best {
    background-color: #e8f5e9;
  }

  .highlight-course.worst {
    background-color: #fff8e1;
  }

  .highlight-label {
    font-size: 12px;
    color: #555;
    margin-bottom: 5px;
  }

  .highlight-value {
    font-size: 20px;
    font-weight: bold;
    margin-bottom: 5px;
  }

  .highlight-course.best .highlight-value {
    color: #4caf50;
  }

  .highlight-course.worst .highlight-value {
    color: #ff9800;
  }

  .highlight-name {
    font-size: 12px;
    color: #333;
  }

  .forecast {
    margin-top: 10px;
  }

  .forecast-item {
    display: flex;
    justify-content: space-between;
    margin-bottom: 10px;
    padding-bottom: 10px;
    border-bottom: 1px solid #eee;
  }

  .forecast-item:last-child {
    margin-bottom: 0;
    padding-bottom: 0;
    border-bottom: none;
  }

  .forecast-label {
    color: #555;
  }

  .forecast-value {
    font-weight: bold;
    color: #333;
  }

  .forecast-value.excellent {
    color: #4caf50;
  }

  /* Thông tin về cách tính điểm */
  .info-section {
    background-color: white;
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 30px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  }

  .info-tabs {
    display: flex;
    margin-bottom: 20px;
    border-bottom: 1px solid #eee;
  }

  .info-tab {
    padding: 10px 20px;
    background: none;
    border: none;
    cursor: pointer;
    font-weight: bold;
    color: #666;
  }

  .info-tab.active {
    color: #1e3056;
    border-bottom: 3px solid #1e3056;
  }

  .info-tab-content {
    display: none;
  }

  .info-tab-content.active {
    display: block;
  }

  .info-tab-content h3 {
    margin-bottom: 15px;
    color: #333;
  }

  .info-table {
    width: 100%;
    border-collapse: collapse;
  }

  .info-table th,
  .info-table td {
    padding: 10px 15px;
    border: 1px solid #eee;
    text-align: left;
  }

  .info-table th {
    background-color: #f5f5f5;
    font-weight: bold;
  }

  .calculation-info {
    line-height: 1.6;
  }

  .calculation-info p {
    margin-bottom: 10px;
  }

  .formula {
    background-color: #f5f5f5;
    padding: 15px;
    border-radius: 4px;
    margin: 15px 0;
    font-weight: bold;
    text-align: center;
  }

  .calculation-info ul {
    margin-left: 20px;
    margin-bottom: 15px;
  }

  .calculation-info li {
    margin-bottom: 5px;
  }
</style>

<script>
  // Chuyển đổi học kỳ
  function changeSemester() {
    const semester = document.getElementById("semester-select").value;
    let semesterName = "";

    switch (semester) {
      case "20232":
        semesterName = "Học kỳ 2, năm học 2023-2024";
        break;
      case "20231":
        semesterName = "Học kỳ 1, năm học 2023-2024";
        break;
      case "20222":
        semesterName = "Học kỳ 2, năm học 2022-2023";
        break;
      case "20221":
        semesterName = "Học kỳ 1, năm học 2022-2023";
        break;
      case "20212":
        semesterName = "Học kỳ 2, năm học 2021-2022";
        break;
      case "20211":
        semesterName = "Học kỳ 1, năm học 2021-2022";
        break;
    }

    document.querySelector(
      ".semester-grades h2"
    ).textContent = `Bảng điểm ${semesterName}`;
  }

  // Cập nhật dữ liệu học kỳ
  function loadSemesterData() {
    const semester = document.getElementById("semester-select").value;
    alert(`Đang tải dữ liệu cho học kỳ: ${semester}`);
  }

  // Chuyển đổi giữa các loại biểu đồ
  document.querySelectorAll(".chart-tab").forEach((tab) => {
    tab.addEventListener("click", function () {
      document
        .querySelectorAll(".chart-tab")
        .forEach((t) => t.classList.remove("active"));
      this.classList.add("active");

      const chartType = this.getAttribute("data-chart");
      alert("Đã chuyển sang biểu đồ: " + chartType);
    });
  });

  // Chuyển đổi giữa các tab thông tin
  document.querySelectorAll(".info-tab").forEach((tab) => {
    tab.addEventListener("click", function () {
      // Xóa active class từ tất cả các tab
      document
        .querySelectorAll(".info-tab")
        .forEach((t) => t.classList.remove("active"));
      this.classList.add("active");

      // Ẩn tất cả nội dung tab
      document.querySelectorAll(".info-tab-content").forEach((content) => {
        content.style.display = "none";
      });

      // Hiển thị nội dung tab được chọn
      const tabId = this.getAttribute("data-tab");
      document.getElementById(tabId).style.display = "block";
    });
  });
</script>
